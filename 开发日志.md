# AI 语文助手小程序 - 开发日志

## 项目概述
- 框架: Taro 3.6.38 + React
- 后端: 微信云开发
- 目录: c:\Users\Administrator\Desktop\code\xcx

---

## 2024-01-04 项目初始化

### 已完成
- 创建 Taro 项目结构
- 安装 npm 依赖 (1496 packages)
- 配置项目基础文件

### 修复的编译错误
1. 移除 echarts-for-taro - 包不存在导致 npm install 失败
2. TypeScript 语法错误 - app.jsx 中移除类型注解
3. JSX 解析错误 - 创建 babel.config.js
4. 特殊字符错误 - literature/index.jsx
5. LESS 语法错误 - 多处 box-shadow 多余括号
6. WXSS 通用选择器错误 - app.less 中移除 * 选择器
7. 云开发初始化错误 - app.jsx 模块加载时初始化
8. 数据库懒加载 - request.js 改为 getter

### 项目配置
- miniprogramRoot: dist/ (小程序代码目录)
- cloudfunctionRoot: cloudfunctions/ (云函数目录)

### 云函数
- cloudfunctions/login/ - 登录/注册
- cloudfunctions/user/ - 用户管理

### 数据库集合
- users - 用户信息表

---

## 开发工作流

### 修改页面代码
```bash
cd c:\Users\Administrator\Desktop\code\xcx
npm run build:weapp
```

### 修改云函数
在微信开发者工具中右键云函数 -> 上传并部署

### 预览测试
微信开发者工具自动刷新 dist 目录
手机预览: 点击预览生成二维码

---

## 常见问题

### Q: 打开 xcx 目录报错 未找到 app.json
A: 已修复 - 添加了 miniprogramRoot: dist/

### Q: 云函数调用失败
A: 检查: 1.云开发是否已开通 2.云函数是否已部署 3.数据库集合是否已创建

### Q: 登录按钮点击没反应
A: 检查: 1.login 云函数是否部署 2.users 集合是否已创建 3.控制台错误信息

---

## 目录结构
```
xcx/
├── cloudfunctions/      # 云函数
│   ├── login/          # 登录/注册
│   └── user/           # 用户管理
├── dist/               # 编译后的小程序代码
├── src/                # 源代码
├── project.config.json # 项目配置
└── 开发日志.md         # 本文件
```

---

## 下一步计划
- [ ] 完善登录注册流程
- [ ] 实现首页数据统计
- [ ] 添加词汇学习功能
- [ ] 添加古诗词学习功能
- [ ] 实现 AI 聊天功能
- [ ] 添加练习题库
