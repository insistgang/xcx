"use strict";(wx.webpackJsonp=wx.webpackJsonp||[]).push([[183],{8084:function(s,e,a){var t=a(7842),c=a(1212),n=a(467),r=a(5544),l=a(6540),i=a(118),o=a(758),d=a(7073),h=a(4848);var m=function(){var s=(0,l.useState)({totalScore:0,totalDuration:0,correctRate:0,dailyData:[]}),e=(0,r.A)(s,2),a=e[0],t=e[1],m=(0,l.useState)("week"),u=(0,r.A)(m,2),x=u[0],j=u[1],S=(0,l.useState)(!0),N=(0,r.A)(S,2),p=N[0],f=N[1];(0,o.useDidShow)(function(){v()});var v=function(){var s=(0,n.A)((0,c.A)().m(function s(){var e,a,n,r,l,i;return(0,c.A)().w(function(s){for(;;)switch(s.p=s.n){case 0:return f(!0),s.p=1,a=new Date,n="week"===x?7:30,r=new Date(a.getTime()-24*n*60*60*1e3),l=a,s.n=2,d.A.getReport(r.toISOString(),l.toISOString());case 2:(i=s.v)&&(i.totalScore>0||(null===(e=i.dailyData)||void 0===e?void 0:e.length)>0)?t(i):t({totalScore:0,totalDuration:0,correctRate:0,dailyData:E(n)}),s.n=4;break;case 3:s.p=3,s.v,t({totalScore:0,totalDuration:0,correctRate:0,dailyData:E("week"===x?7:30)});case 4:return s.p=4,f(!1),s.f(4);case 5:return s.a(2)}},s,null,[[1,3,4,5]])}));return function(){return s.apply(this,arguments)}}(),E=function(s){for(var e=["å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­","å‘¨æ—¥"],a=[],t=0;t<Math.min(s,7);t++)a.push({date:e[t],score:0,duration:0});return a},g=function(s){j(s),v()};return(0,h.jsxs)(i.Ss,{className:"study-report-page",children:[(0,h.jsxs)(i.Ss,{className:"time-range-tabs",children:[(0,h.jsx)(i.Ss,{className:"tab ".concat("week"===x?"active":""),onClick:function(){return g("week")},children:"æœ¬å‘¨"}),(0,h.jsx)(i.Ss,{className:"tab ".concat("month"===x?"active":""),onClick:function(){return g("month")},children:"æœ¬æœˆ"})]}),(0,h.jsx)(i.BM,{scrollY:!0,className:"content-scroll",children:p?(0,h.jsx)(i.Ss,{className:"loading-state",children:(0,h.jsx)(i.EY,{children:"åŠ è½½ä¸­..."})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(i.Ss,{className:"stats-cards",children:[(0,h.jsxs)(i.Ss,{className:"stat-item",children:[(0,h.jsx)(i.EY,{className:"stat-value",children:a.totalScore}),(0,h.jsx)(i.EY,{className:"stat-label",children:"æ€»å¾—åˆ†"})]}),(0,h.jsxs)(i.Ss,{className:"stat-item",children:[(0,h.jsx)(i.EY,{className:"stat-value",children:a.totalDuration}),(0,h.jsx)(i.EY,{className:"stat-label",children:"å­¦ä¹ æ—¶é•¿(åˆ†)"})]}),(0,h.jsxs)(i.Ss,{className:"stat-item",children:[(0,h.jsxs)(i.EY,{className:"stat-value",children:[a.correctRate,"%"]}),(0,h.jsx)(i.EY,{className:"stat-label",children:"æ­£ç¡®ç‡"})]})]}),(0,h.jsxs)(i.Ss,{className:"chart-section",children:[(0,h.jsx)(i.Ss,{className:"section-title",children:"å­¦ä¹ è¶‹åŠ¿"}),(0,h.jsx)(i.Ss,{className:"chart-placeholder",children:(0,h.jsx)(i.Ss,{className:"bar-chart",children:a.dailyData.map(function(s,e){return(0,h.jsxs)(i.Ss,{className:"bar-item",children:[(0,h.jsx)(i.Ss,{className:"bar",style:{height:"".concat(Math.max(s.duration||5,5),"px"),background:s.score>0?"#4A90E2":"#E0E0E0"}}),(0,h.jsx)(i.EY,{className:"bar-label",children:s.date})]},e)})})})]}),(0,h.jsxs)(i.Ss,{className:"tips-section",children:[(0,h.jsx)(i.Ss,{className:"section-title",children:"å­¦ä¹ å»ºè®®"}),a.totalScore>0?(0,h.jsxs)(i.Ss,{className:"tips-list",children:[(0,h.jsxs)(i.Ss,{className:"tip-item",children:[(0,h.jsx)(i.EY,{className:"tip-icon",children:"ğŸ’¡"}),(0,h.jsx)(i.EY,{className:"tip-text",children:"ä¿æŒæ¯å¤©å­¦ä¹ ï¼Œå…»æˆè‰¯å¥½çš„å­¦ä¹ ä¹ æƒ¯"})]}),(0,h.jsxs)(i.Ss,{className:"tip-item",children:[(0,h.jsx)(i.EY,{className:"tip-icon",children:"ğŸ“š"}),(0,h.jsx)(i.EY,{className:"tip-text",children:"ç»§ç»­åšæŒç»ƒä¹ ï¼Œæ¯å¤©å®Œæˆ10é“é¢˜ç›®"})]})]}):(0,h.jsx)(i.Ss,{className:"empty-tips",children:(0,h.jsx)(i.EY,{className:"empty-tip-text",children:"å¼€å§‹å­¦ä¹ åï¼Œè¿™é‡Œä¼šæ˜¾ç¤ºä½ çš„å­¦ä¹ å»ºè®®"})})]})]})})]})};Page((0,t.createPageConfig)(m,"pages/study-report/index",{root:{cn:[]}},{navigationBarTitleText:"å­¦ä¹ æŠ¥å‘Š"}||{}))}},function(s){s.O(0,[907,96,76],function(){return e=8084,s(s.s=e);var e});s.O()}]);