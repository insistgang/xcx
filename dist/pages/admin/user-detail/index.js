"use strict";(wx.webpackJsonp=wx.webpackJsonp||[]).push([[952],{2332:function(s,e,a){var t=a(7842),c=a(1212),r=a(467),n=a(5544),l=a(6540),i=a(118),d=a(758),o=a(483),m=a(4848);var u=function(){var s,e=(0,d.getCurrentInstance)().router.params.openid,a=(0,l.useState)(null),t=(0,n.A)(a,2),u=t[0],h=t[1],x=(0,l.useState)(null),j=(0,n.A)(x,2),N=j[0],S=j[1],p=(0,l.useState)(null),g=(0,n.A)(p,2),Y=g[0],E=g[1],v=(0,l.useState)([]),b=(0,n.A)(v,2),f=b[0],y=b[1],A=(0,l.useState)(!0),w=(0,n.A)(A,2),k=w[0],C=w[1];(0,l.useEffect)(function(){D()},[]);var D=function(){var s=(0,r.A)((0,c.A)().m(function s(){var a;return(0,c.A)().w(function(s){for(;;)switch(s.p=s.n){case 0:return C(!0),s.p=1,s.n=2,o.A.getUserDetail(e);case 2:a=s.v,h(a.userInfo),S(a.stats),E(a.typeStats),y(a.studyRecords||[]),s.n=4;break;case 3:s.p=3,s.v;case 4:return s.p=4,C(!1),s.f(4);case 5:return s.a(2)}},s,null,[[1,3,4,5]])}));return function(){return s.apply(this,arguments)}}(),M=function(s){if(!s)return"-";var e=new Date(s);return"".concat(e.getMonth()+1,"/").concat(e.getDate()," ").concat(String(e.getHours()).padStart(2,"0"),":").concat(String(e.getMinutes()).padStart(2,"0"))},O=function(s){return{pinyin:"æ‹¼éŸ³ç»ƒä¹ ",idiom:"æˆè¯­ç†Ÿè¯­",vocabulary:"è¯æ±‡å­¦ä¹ ",correction:"ç—…å¥ä¿®æ”¹",literature:"è¯—è¯é‰´èµ",grammar:"è¯­æ³•çŸ¥è¯†",reading:"é˜…è¯»ç†è§£",unknown:"å…¶ä»–"}[s]||s};return k?(0,m.jsx)(i.Ss,{className:"user-detail-page",children:(0,m.jsx)(i.Ss,{className:"loading-state",children:(0,m.jsx)(i.EY,{children:"åŠ è½½ä¸­..."})})}):u?(0,m.jsx)(i.Ss,{className:"user-detail-page",children:(0,m.jsxs)(i.BM,{scrollY:!0,className:"content-scroll",children:[(0,m.jsxs)(i.Ss,{className:"info-card",children:[(0,m.jsxs)(i.Ss,{className:"user-header",children:[(0,m.jsx)(i.Ss,{className:"avatar-large",children:(0,m.jsx)(i.EY,{className:"avatar-text",children:(null===(s=u.nickName)||void 0===s?void 0:s.charAt(0))||"ç”¨"})}),(0,m.jsxs)(i.Ss,{className:"user-meta",children:[(0,m.jsx)(i.EY,{className:"user-name-large",children:u.nickName||"æœªè®¾ç½®"}),(0,m.jsxs)(i.EY,{className:"user-openid",children:["ID: ",e.substring(0,16),"..."]})]})]}),(0,m.jsxs)(i.Ss,{className:"join-date",children:[(0,m.jsx)(i.EY,{className:"join-label",children:"æ³¨å†Œæ—¶é—´ï¼š"}),(0,m.jsx)(i.EY,{className:"join-value",children:function(s){if(!s)return"-";var e=new Date(s);return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))}(u.createdAt)})]})]}),(0,m.jsxs)(i.Ss,{className:"section-card",children:[(0,m.jsx)(i.EY,{className:"section-title",children:"ğŸ“Š å­¦ä¹ ç»Ÿè®¡"}),(0,m.jsxs)(i.Ss,{className:"stats-grid-3",children:[(0,m.jsxs)(i.Ss,{className:"stat-item",children:[(0,m.jsx)(i.EY,{className:"stat-number",children:(null==N?void 0:N.answerCount)||0}),(0,m.jsx)(i.EY,{className:"stat-label",children:"ç­”é¢˜æ•°"})]}),(0,m.jsxs)(i.Ss,{className:"stat-item",children:[(0,m.jsx)(i.EY,{className:"stat-number",children:(null==N?void 0:N.correctCount)||0}),(0,m.jsx)(i.EY,{className:"stat-label",children:"æ­£ç¡®æ•°"})]}),(0,m.jsxs)(i.Ss,{className:"stat-item",children:[(0,m.jsxs)(i.EY,{className:"stat-number",children:[(null==N?void 0:N.accuracy)||0,"%"]}),(0,m.jsx)(i.EY,{className:"stat-label",children:"æ­£ç¡®ç‡"})]}),(0,m.jsxs)(i.Ss,{className:"stat-item",children:[(0,m.jsx)(i.EY,{className:"stat-number",children:(null==N?void 0:N.studyDays)||0}),(0,m.jsx)(i.EY,{className:"stat-label",children:"å­¦ä¹ è®°å½•"})]}),(0,m.jsxs)(i.Ss,{className:"stat-item",children:[(0,m.jsx)(i.EY,{className:"stat-number",children:(null==N?void 0:N.favoriteCount)||0}),(0,m.jsx)(i.EY,{className:"stat-label",children:"æ”¶è—æ•°"})]}),(0,m.jsxs)(i.Ss,{className:"stat-item",children:[(0,m.jsx)(i.EY,{className:"stat-number",children:(null==N?void 0:N.wrongCount)||0}),(0,m.jsx)(i.EY,{className:"stat-label",children:"é”™é¢˜æ•°"})]})]})]}),Y&&Object.keys(Y).length>0&&(0,m.jsxs)(i.Ss,{className:"section-card",children:[(0,m.jsx)(i.EY,{className:"section-title",children:"ğŸ“‹ é¢˜å‹åˆ†å¸ƒ"}),(0,m.jsx)(i.Ss,{className:"type-stats-list",children:Object.entries(Y).map(function(s){var e=(0,n.A)(s,2),a=e[0],t=e[1];return(0,m.jsxs)(i.Ss,{className:"type-stat-row",children:[(0,m.jsx)(i.EY,{className:"type-stat-name",children:O(a)}),(0,m.jsxs)(i.Ss,{className:"type-stat-bars",children:[(0,m.jsxs)(i.EY,{className:"type-stat-count",children:[t.correct,"/",t.total]}),(0,m.jsxs)(i.EY,{className:"type-stat-accuracy",children:[t.total>0?Math.round(t.correct/t.total*100):0,"%"]})]})]},a)})})]}),f.length>0&&(0,m.jsxs)(i.Ss,{className:"section-card",children:[(0,m.jsx)(i.EY,{className:"section-title",children:"ğŸ“ æœ€è¿‘å­¦ä¹ è®°å½•"}),(0,m.jsx)(i.Ss,{className:"records-list",children:f.map(function(s,e){return(0,m.jsxs)(i.Ss,{className:"record-item",children:[(0,m.jsxs)(i.Ss,{className:"record-header",children:[(0,m.jsx)(i.EY,{className:"record-type",children:O(s.type)}),(0,m.jsxs)(i.EY,{className:"record-score",children:[s.score,"åˆ†"]})]}),(0,m.jsxs)(i.Ss,{className:"record-detail",children:[(0,m.jsxs)(i.EY,{className:"record-info",children:["ç­”å¯¹ ",s.correctAnswers,"/",s.totalQuestions," é¢˜"]}),(0,m.jsx)(i.EY,{className:"record-time",children:M(s.createdAt)})]})]},e)})})]}),(0,m.jsx)(i.Ss,{className:"action-bar",children:(0,m.jsx)(i.Ss,{className:"back-btn",onClick:d.navigateBack,children:(0,m.jsx)(i.EY,{className:"back-text",children:"â† è¿”å›"})})}),(0,m.jsx)(i.Ss,{style:{height:"100rpx"}})]})}):(0,m.jsx)(i.Ss,{className:"user-detail-page",children:(0,m.jsx)(i.Ss,{className:"error-state",children:(0,m.jsx)(i.EY,{children:"ç”¨æˆ·ä¸å­˜åœ¨"})})})};Page((0,t.createPageConfig)(u,"pages/admin/user-detail/index",{root:{cn:[]}},{navigationBarTitleText:"ç”¨æˆ·è¯¦æƒ…"}||{}))}},function(s){s.O(0,[907,96,76],function(){return e=2332,s(s.s=e);var e});s.O()}]);