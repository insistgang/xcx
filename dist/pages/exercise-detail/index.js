"use strict";(wx.webpackJsonp=wx.webpackJsonp||[]).push([[661],{6246:function(n,e,t){var r=t(7842),o=t(7800);function i(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=(0,o.A)(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return a=n.done,n},e:function(n){c=!0,s=n},f:function(){try{a||null==t.return||t.return()}finally{if(c)throw s}}}}var s=t(4467),a=t(1212),c=t(467),p=t(9379),l=t(5544),u=t(436),A=t(6540),d=t(118),y=t(758),x=t.n(y),f=t(4198),h=t(7073),m=t(7724),w=t(4848);var v=function(){var n,e=(0,y.getCurrentInstance)().router.params,t=e.type||m.bU.SINGLE_CHOICE,r=e.mode||"type",o=parseInt(e.count)||10,v=(0,A.useState)([]),C=(0,l.A)(v,2),q=C[0],b=C[1],g=(0,A.useState)(0),D=(0,l.A)(g,2),B=D[0],S=D[1],j=(0,A.useState)({}),N=(0,l.A)(j,2),k=N[0],E=N[1],I=(0,A.useState)(!1),O=(0,l.A)(I,2),Y=O[0],M=O[1],J=(0,A.useState)(0),T=(0,l.A)(J,2),U=T[0],L=T[1],_=(0,A.useState)(!0),z=(0,l.A)(_,2),H=z[0],G=z[1],P=(0,A.useState)(Date.now()),W=(0,l.A)(P,2),F=W[0],Q=W[1];(0,y.useDidShow)(function(){Q(Date.now()),X()});var R=function(n){if(Array.isArray(n))return n;if("string"!=typeof n)return[];if(n.trim().startsWith("{"))try{var e=JSON.parse(n);return Object.keys(e).sort().map(function(n){return"".concat(n,". ").concat(e[n])})}catch(n){}var t=n.match(/[A-D][.、]\s*[^A-D]+/g);return t?t.map(function(n){return n.trim()}):[n]},K=function(n){if("number"==typeof n)return n;if("string"==typeof n){var e=n.toUpperCase().charCodeAt(0)-"A".charCodeAt(0);if(e>=0&&e<=3)return e}return 0},V=function(n){return(0,p.A)((0,p.A)({},n),{},{question:n.question||n.content||"",options:Array.isArray(n.options)?n.options:R(n.options||""),correctAnswer:K(n.correctAnswer||n.answer||0)})},X=function(){var n=(0,c.A)((0,a.A)().m(function n(){var e,i,s,c,p,l,A;return(0,a.A)().w(function(n){for(;;)switch(n.p=n.n){case 0:if(G(!0),e={pinyin:[{id:"py001",type:"pinyin",question:"下列加点字注音完全正确的一项是：",options:["A. 狡狞(níng)","B. 机械(jiè)","C. 同仇敌忾(kài)","D. 玷污(zhēn)"],correctAnswer:2,explanation:"C项注音完全正确。"},{id:"py002",type:"pinyin",question:"下列词语中加点字的读音，与所给注音全部相同的一项是：",options:["A. 供 gòng 供给 供认 供品","B. 角 jué 角色 口角 角逐","C. 强 qiáng 强迫 倔强 强壮","D. 处 chǔ 处理 处分 处所"],correctAnswer:1,explanation:"B项全部读jué。"},{id:"py003",type:"pinyin",question:'"参"在"参加"中读：',options:["A. cēn","B. shēn","C. cān","D. cī"],correctAnswer:2,explanation:'"参"在"参加"中读cān。'},{id:"py004",type:"pinyin",question:'"薄"在"薄雾"中读：',options:["A. báo","B. bó","C. bò","D. bē"],correctAnswer:0,explanation:'"薄"在"薄雾"中读báo。'},{id:"py005",type:"pinyin",question:"下列加点字读音完全正确的一项是：",options:["A. 贮蓄(zhù) 菡萏(hàn) 酝酿(niàng)","B. 粗糙(cāo) 确凿(záo) 唯妙唯肖(xiào)","C. 讪笑(shàn) 挑衅(xìn) 哂笑(xī)","D. 媲美(pì) 缄默(jiān) 酷肖(xiào)"],correctAnswer:0,explanation:"A项正确。"},{id:"py006",type:"pinyin",question:'"翘"在"翘首"中读：',options:["A. qiào","B. qiáo","C. qiāo","D. qiü"],correctAnswer:1,explanation:'"翘"在"翘首"中读qiáo。'},{id:"py007",type:"pinyin",question:"下列加点字注音有误的一项是：",options:["A. 菜畦(qí) 确凿(záo)","B. 脑髓(suǐ) 伛偻(lǚ)","C. 盔甲(kuī) 骊歌(lí)","D. 逾越(yù) 栖息(qī)"],correctAnswer:1,explanation:'B项"伛偻"的"偻"应读lǚ。'},{id:"py008",type:"pinyin",question:'"模"在"模样"中读：',options:["A. mó","B. mú","C. mǒ","D. mù"],correctAnswer:1,explanation:'"模"在"模样"中读mú。'},{id:"py009",type:"pinyin",question:"下列加点字注音完全正确的一项是：",options:["A. 褶皱(zhě) 狩猎(shòu) 蜷缩(juǎn)","B. 嗔视(chēn) 娴熟(xián) 惩罚(chěng)","C. 剽悍(piāo) 旖旎(yǐ) 畸形(qí)","D. 氛围(fèn) 殷红(yīn) 龟裂(jūn)"],correctAnswer:2,explanation:"C项正确。"},{id:"py010",type:"pinyin",question:'"咽"在"狼吞虎咽"中读：',options:["A. yàn","B. yān","C. yè","D. yīn"],correctAnswer:0,explanation:'"咽"在"狼吞虎咽"中读yàn。'}],idiom:[{id:"cy001",type:"idiom",question:"下列成语中使用正确的一项是：",options:["A. 电影情节自相矛盾","B. 文章见解不同凡响","C. 经济发展举世瞩目","D. 失利后重整旗鼓"],correctAnswer:3,explanation:'D项"重整旗鼓"使用正确。'},{id:"cy002",type:"idiom",question:'"画蛇添足"比喻：',options:["A. 做事要认真","B. 做多余的事反不好","C. 抓住机会","D. 坚持到底"],correctAnswer:1,explanation:'"画蛇添足"比喻做了多余的事。'},{id:"cy003",type:"idiom",question:"下列成语使用不恰当的一项是：",options:["A. 脱颖而出","B. 感人肺腑","C. 半途而废、坚持不懈","D. 独具匠心"],correctAnswer:2,explanation:'C项"坚持不懈"不能形容"半途而废"。'},{id:"cy004",type:"idiom",question:'"守株待兔"比喻：',options:["A. 善于观察","B. 死守不知变通","C. 有耐心","D. 运气重要"],correctAnswer:1,explanation:'"守株待兔"比喻死守经验不知变通。'},{id:"cy005",type:"idiom",question:'"亡羊补牢"的意思是：',options:["A. 羊丢了不找","B. 出问题后补救","C. 修理羊圈","D. 预防问题"],correctAnswer:1,explanation:'"亡羊补牢"比喻出了问题及时补救。'},{id:"cy006",type:"idiom",question:'"夸夸其谈"的意思是：',options:["A. 说话好听","B. 浮夸不实际","C. 夸奖别人","D. 谈论夸夸"],correctAnswer:1,explanation:'"夸夸其谈"形容说话浮夸。'},{id:"cy007",type:"idiom",question:"下列成语书写正确的一项是：",options:["A. 巧夺天公","B. 迫不急待","C. 谈笑风生","D. 再接再励"],correctAnswer:2,explanation:"C项正确。"},{id:"cy008",type:"idiom",question:'"胸有成竹"比喻：',options:["A. 心里有竹子","B. 做事有把握","C. 喜欢画画","D. 胸部宽广"],correctAnswer:1,explanation:'"胸有成竹"比喻做事有把握。'},{id:"cy009",type:"idiom",question:"下列加点成语使用正确的一项是：",options:["A. 他做事一丝不苟","B. 这次会议万人空巷","C. 他总是袖手旁观","D. 这篇文章别出心裁"],correctAnswer:0,explanation:'A项"一丝不苟"使用正确。'},{id:"cy010",type:"idiom",question:'"津津有味"的意思是：',options:["A. 味道好","B. 兴趣浓厚","C. 津津有味","D. 很有味道"],correctAnswer:1,explanation:'"津津有味"形容兴趣浓厚。'}],vocabulary:[{id:"vo001",type:"vocabulary",question:'"姹紫嫣红"的意思是：',options:["A. 颜色单一","B. 各种花朵娇艳","C. 紫色红色","D. 花朵凋零"],correctAnswer:1,explanation:'"姹紫嫣红"形容各种颜色花朵娇艳。'},{id:"vo002",type:"vocabulary",question:"下列词语中没有错别字的一项是：",options:["A. 再接再励","B. 谈笑风生","C. 巧夺天公","D. 迫不急待"],correctAnswer:1,explanation:"B项正确。"},{id:"vo003",type:"vocabulary",question:'"美轮美奂"形容：',options:["A. 美丽风景","B. 高大华丽建筑","C. 美丽的人","D. 美好音乐"],correctAnswer:1,explanation:'"美轮美奂"形容房屋高大华丽。'},{id:"vo004",type:"vocabulary",question:'"鳞次栉比"的意思是：',options:["A. 排列密","B. 鱼和梳子","C. 次序混乱","D. 整齐稀疏"],correctAnswer:0,explanation:'"鳞次栉比"形容建筑物排列密整。'},{id:"vo005",type:"vocabulary",question:'"川流不息"的"川"意思是：',options:["A. 山川","B. 河流","C. 平原","D. 道路"],correctAnswer:1,explanation:'"川"指河流。'},{id:"vo006",type:"vocabulary",question:'"因地制宜"的意思是：',options:["A. 根据当地制定措施","B. 改造环境","C. 适应环境","D. 改变制度"],correctAnswer:0,explanation:'"因地制宜"指根据情况制定办法。'},{id:"vo007",type:"vocabulary",question:"下列词语解释有误的一项是：",options:["A. 凛冽：寒冷","B. 逶迤：弯曲","C. 妥帖：恰当","D. 俨然：严肃"],correctAnswer:3,explanation:'D项"俨然"主要指很像。'},{id:"vo008",type:"vocabulary",question:'"不可思议"的意思是：',options:["A. 无法想象","B. 不可议论","C. 很神奇","D. 不讲理"],correctAnswer:0,explanation:'"不可思议"形容难以想象。'},{id:"vo009",type:"vocabulary",question:"下列词语中没有错别字的一项是：",options:["A. 焕然一新","B. 谈笑风声","C. 迫不急待","D. 再接再励"],correctAnswer:0,explanation:"A项正确。"},{id:"vo010",type:"vocabulary",question:'"抑扬顿挫"形容：',options:["A. 声音高低起伏","B. 抑制","C. 挫折","D. 停顿"],correctAnswer:0,explanation:'"抑扬顿挫"形容声音高低起伏和谐。'}],correction:[{id:"bc001",type:"correction",question:"下列句子中没有语病的一项是：",options:["A. 通过活动，使我明白","B. 态度端正，成绩提高","C. 打扫教室卫生","D. 改进方法，增加效率"],correctAnswer:1,explanation:"B项无语病。"},{id:"bc002",type:"correction",question:'"增加效率"的错误类型是：',options:["A. 语序不当","B. 搭配不当","C. 成分残缺","D. 表意不明"],correctAnswer:1,explanation:'"增加"与"效率"搭配不当。'},{id:"bc003",type:"correction",question:"下列句子中有语病的一项是：",options:["A. 北京秋天美丽","B. 文章观点深刻","C. 穿着上衣戴帽子","D. 养成学习习惯"],correctAnswer:2,explanation:"C项搭配不当。"},{id:"bc004",type:"correction",question:'"通过学习，使我受益"病因是：',options:["A. 成分残缺","B. 搭配不当","C. 语序不当","D. 结构混乱"],correctAnswer:0,explanation:"滥用介词导致主语缺失。"},{id:"bc005",type:"correction",question:'修改"稻米是主要粮食"正确的是：',options:["A. 稻米是粮食","B. 稻米是粮食作物","C. 粮食是稻米","D. 稻米是主要"],correctAnswer:1,explanation:'应改为"稻米是粮食作物"。'},{id:"bc006",type:"correction",question:"下列没有语病的一项是：",options:["A. 文章对我有兴趣","B. 我对文章有兴趣","C. 文章引起兴趣","D. 文章让我感兴趣"],correctAnswer:2,explanation:"C项无语病。"},{id:"bc007",type:"correction",question:'"即使遇到挫折，也要坚持"：',options:["A. 有语病","B. 无语病","C. 缺主语","D. 搭配不当"],correctAnswer:1,explanation:"这句话无语病。"},{id:"bc008",type:"correction",question:"下列有语病的一项是：",options:["A. 培养习惯","B. 明白道理","C. 努力取得成绩","D. 作者是鲁迅写的"],correctAnswer:3,explanation:"D项句式杂糅。"},{id:"bc009",type:"correction",question:"下列句子没有语病的一项是：",options:["A. 通过学习使我进步","B. 他进步了","C. 他穿着衣服和帽子","D. 提高工作效率"],correctAnswer:3,explanation:"D项无语病。"},{id:"bc010",type:"correction",question:'"这本书的作者是鲁迅写的"病因是：',options:["A. 成分残缺","B. 句式杂糅","C. 搭配不当","D. 表意不明"],correctAnswer:1,explanation:"句式杂糅。"}]},i=function(){for(var n=[].concat((0,u.A)(e.pinyin),(0,u.A)(e.idiom),(0,u.A)(e.vocabulary),(0,u.A)(e.correction)),t=n.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),o=[n[r],n[t]];n[t]=o[0],n[r]=o[1]}return n},n.p=1,"wrong"!==r){n.n=6;break}return n.p=2,n.n=3,f.A.getWrongQuestions(1,o);case 3:c=n.v,s=c&&c.length>0?c.map(function(n){return V({id:n.id||n._id,type:n.type,question:n.question||n.questionText,options:n.options||[],correctAnswer:n.answer||n.correctAnswer||0,explanation:n.explanation||""})}):[],n.n=5;break;case 4:n.p=4,n.v,s=[];case 5:n.n=7;break;case 6:"random"===r?(p=i(),s=p.slice(0,Math.min(o,p.length))):(l=e[t]||i(),A=(0,u.A)(l).sort(function(){return Math.random()-.5}),s=A.slice(0,Math.min(o,A.length)));case 7:s&&s.length>0&&"wrong"!==r&&(s=s.map(V)),b(s||[]),n.n=9;break;case 8:n.p=8,n.v,b([{id:"f1",type:m.bU.SINGLE_CHOICE,question:"下列词语中，没有错别字的一组是：",options:["A. 诡计多端","B. 走投无路","C. 谈笑风生","D. 汗流浃背"],correctAnswer:2,explanation:"C项正确。"},{id:"f2",type:m.bU.SINGLE_CHOICE,question:'"春风又绿江南岸"中的"绿"字运用了什么修辞手法？',options:["A. 比喻","B. 拟人","C. 夸张","D. 借代"],correctAnswer:1,explanation:"拟人。"},{id:"f3",type:m.bU.SINGLE_CHOICE,question:'"画蛇添足"比喻：',options:["A. 做事要认真","B. 做多余的事","C. 抓住机会","D. 坚持到底"],correctAnswer:1,explanation:"做了多余的事。"}].slice(0,o));case 9:return n.p=9,G(!1),n.f(9);case 10:return n.a(2)}},n,null,[[2,4],[1,8,9,10]])}));return function(){return n.apply(this,arguments)}}(),Z=q[B];if(Z&&"wrong"===r);var $=function(){var n=k[Z.id];return null!=n&&(!Array.isArray(n)||n.length>0)},nn=function(){return(null==Z?void 0:Z.type)===m.bU.MULTIPLE_CHOICE},en=function(){var n=(0,c.A)((0,a.A)().m(function n(){var e,t,o,s,c,p,l,A,d;return(0,a.A)().w(function(n){for(;;)switch(n.p=n.n){case 0:return e=0,t=[],q.forEach(function(n){var r=k[n.id],o=n.correctAnswer,i=!1;if(Array.isArray(r)){var s=(0,u.A)(r).sort(),a=Array.isArray(o)?(0,u.A)(o).sort():[o];i=JSON.stringify(s)===JSON.stringify(a)}else i=r===o;i&&(e++,t.push(n.id))}),o=Math.round(e/q.length*100),L(o),M(!0),n.p=1,n.n=2,h.A.addRecord({type:"exercise",title:"练习",score:o,totalQuestions:q.length,correctAnswers:e,duration:Math.round((Date.now()-F)/1e3/60)||5});case 2:n.n=4;break;case 3:n.p=3,n.v;case 4:return n.p=4,s=q.map(function(n){var e=k[n.id],t=n.correctAnswer,r=!1;if(Array.isArray(e)){var o=(0,u.A)(e).sort(),i=Array.isArray(t)?(0,u.A)(t).sort():[t];r=JSON.stringify(o)===JSON.stringify(i)}else r=e===t;return{questionId:n.id,answer:k[n.id],questionType:n.type,isCorrect:r,questionText:n.question||n.questionText||"",options:n.options||[],correctAnswer:t}}),n.n=5,x().cloud.callFunction({name:"question",data:{action:"submitBatch",answers:s}});case 5:n.n=7;break;case 6:n.p=6,n.v;case 7:if(!("wrong"===r&&t.length>0)){n.n=19;break}n.p=8,c=i(t),n.p=9,c.s();case 10:if((p=c.n()).done){n.n=13;break}return l=p.value,n.n=11,x().cloud.callFunction({name:"question",data:{action:"removeWrong",questionId:l}});case 11:n.v;case 12:n.n=10;break;case 13:n.n=15;break;case 14:n.p=14,A=n.v,c.e(A);case 15:return n.p=15,c.f(),n.f(15);case 16:n.n=18;break;case 17:n.p=17,d=n.v,x().showToast({title:"移除失败: "+(d.errMsg||d.message||"unknown"),icon:"none",duration:3e3});case 18:n.n=20;break;case 19:case 20:return n.a(2)}},n,null,[[9,14,15,16],[8,17],[4,6],[1,3]])}));return function(){return n.apply(this,arguments)}}();if(H)return(0,w.jsx)(d.Ss,{className:"loading-page",children:(0,w.jsx)(d.EY,{children:"加载中..."})});if(Y){var tn=q.filter(function(n){var e=k[n.id],t=n.correctAnswer;if(Array.isArray(e)){var r=(0,u.A)(e).sort(),o=Array.isArray(t)?(0,u.A)(t).sort():[t];return JSON.stringify(r)===JSON.stringify(o)}return e===t}).length;return(0,w.jsxs)(d.Ss,{className:"result-page",children:[(0,w.jsxs)(d.Ss,{className:"result-card",children:[(0,w.jsx)(d.EY,{className:"result-score",children:U}),(0,w.jsx)(d.EY,{className:"result-label",children:"得分"}),(0,w.jsxs)(d.Ss,{className:"result-detail",children:[(0,w.jsxs)(d.EY,{className:"detail-text",children:["答对 ",tn," 题"]}),(0,w.jsxs)(d.EY,{className:"detail-text",children:["共 ",q.length," 题"]})]})]}),(0,w.jsxs)(d.Ss,{className:"result-actions",children:[(0,w.jsx)(d.Ss,{className:"action-btn",onClick:function(){return(0,y.navigateBack)()},children:"返回"}),(0,w.jsx)(d.Ss,{className:"action-btn primary",onClick:function(){E({}),S(0),M(!1)},children:"再练一次"})]})]})}return(0,w.jsxs)(d.Ss,{className:"exercise-detail-page",children:[(0,w.jsxs)(d.Ss,{className:"progress-header",children:[(0,w.jsx)(d.Ss,{className:"progress-bar",children:(0,w.jsx)(d.Ss,{className:"progress-fill",style:{width:"".concat((B+1)/q.length*100,"%")}})}),(0,w.jsxs)(d.EY,{className:"progress-text",children:[B+1," / ",q.length]})]}),(0,w.jsxs)(d.BM,{scrollY:!0,className:"content-scroll",children:[(0,w.jsxs)(d.Ss,{className:"question-card",children:[(0,w.jsx)(d.Ss,{className:"question-type",children:nn()?"多选题":"单选题"}),(0,w.jsx)(d.EY,{className:"question-text",children:null==Z?void 0:Z.question}),nn()?(0,w.jsx)(d.Ss,{className:"options-list",children:null==Z||null===(n=Z.options)||void 0===n?void 0:n.map(function(n,e){var t=(k[Z.id]||[]).includes(e);return(0,w.jsxs)(d.Ss,{className:"option-item ".concat(t?"selected":""),onClick:function(){return function(n){var e,t=k[Z.id]||[];e=t.includes(n)?t.filter(function(e){return e!==n}):[].concat((0,u.A)(t),[n]),E((0,p.A)((0,p.A)({},k),{},(0,s.A)({},Z.id,e)))}(e)},children:[(0,w.jsx)(d.Sc,{checked:t}),(0,w.jsx)(d.EY,{className:"option-text",children:n})]},e)})}):(0,w.jsx)(d.Ss,{className:"options-list",children:Z.options.map(function(n,e){var t=k[Z.id]===e;return(0,w.jsxs)(d.Ss,{className:"option-item ".concat(t?"selected":""),onClick:function(){return n=e,t=(0,p.A)((0,p.A)({},k),{},(0,s.A)({},Z.id,n)),void E(t);var n,t},children:[(0,w.jsx)(d.sx,{checked:t}),(0,w.jsx)(d.EY,{className:"option-text",children:n})]},e)})})]}),(null==Z?void 0:Z.explanation)&&void 0!==k[Z.id]&&(0,w.jsxs)(d.Ss,{className:"explanation-card",children:[(0,w.jsx)(d.EY,{className:"explanation-title",children:"解析"}),(0,w.jsx)(d.EY,{className:"explanation-text",children:Z.explanation})]})]}),(0,w.jsx)(d.Ss,{className:"footer-btn",children:(0,w.jsx)(d.Ss,{className:"btn ".concat($()?"":"disabled"),onClick:function(){$()&&(B<q.length-1?(S(B+1),M(!1)):en())},children:B<q.length-1?"下一题":"提交"})})]})};Page((0,r.createPageConfig)(v,"pages/exercise-detail/index",{root:{cn:[]}},{navigationBarTitleText:"答题"}||{}))}},function(n){n.O(0,[907,96,76],function(){return e=6246,n(n.s=e);var e});n.O()}]);